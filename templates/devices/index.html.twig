{% extends 'base.html.twig' %}

{% block title %}Devices{% endblock %}

{% block body %}
    {% include "_page_title.html.twig" with {'title': 'Devices', 'main': 'Setting', 'current': 'Devices'} %}
    
    <div class="rows">
		<div class="col-xl-12">
			<div class="card">
				<div class="card-body">
					<div class="table-responsive">
						<h4 class="card-title">Devices List</h4>
						<p class="card-title-desc">All devices all uses</p>
						<div class="table-responsive">
							<table class="table align-middle mb-0">
								<thead>
									<tr>
                                        <th class="ps-0" style="width: 52px">#</th>
                                        <th class="ps-0">Serial</th>
                                        <th class="ps-0">Name</th>
                                        <th class="ps-0">Model</th>
                                        <th class="ps-0">Year</th>
                                        <th class="ps-0">Price</th>
                                        <th class="ps-0">Status</th>
                                        <th class="ps-0">Room</th>
                                        <th class="ps-0" style="width: 120px">Actions</th>
                                    </tr>
								</thead>
								<tbody>
									{% for device in devices %}
									<tr>
										<td class="ps-0">{{ loop.index }}.</td>
										<td class="ps-0">{{ device.serial }}</td>
                                        <td class="ps-0">{{ device.name }}</td>
                                        <td class="ps-0">{{ device.maker }} {{ device.model }}</td>
                                        <td class="ps-0">{{ device.produced }}</td>
                                        <td class="ps-0">{{ device.price|number_format() }}</td>
                                        <td class="ps-0">{{ device.statusid.title }}</td>
                                        <td class="ps-0">{{ device.roomid.name }}</td>
										<td class="ps-0">
											<div class="d-flex">
												<a class="btn btn-light btn-sm me-2" href="{{path('devices_edit', {id: device.id})}}">Edit</a>
												{{ include('devices/_delete_form.html.twig') }}
											</div>
										</td>
									</tr>
									{% else %}
										<tr>
											<td colspan="8">No records found</td>
										</tr>
									{% endfor %}
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
    <div class="position-absolute" style="bottom: 80px; right: 24px;">
		<a class="btn btn-rounded btn-success waves-effect waves-light" href="{{ path('devices_new') }}">
			<span class="mdi mdi-plus"></span>
		</a>
	</div>
{% endblock %}